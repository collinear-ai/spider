# Example configuration for using OpenHands scaffold to generate SFT trajectories
# from SWE task datasets like SWE-bench/SWE-smith

scaffold:
  type: openhands
  output_dir: "./trajectories/openhands"
  
  # Dataset configuration
  dataset: "SWE-bench/SWE-smith"  # HuggingFace dataset name
  split: "train"                  # Dataset split
  
  # Instance filtering (optional)
  max_instances: null              # null = process all, or set a number
  instance_filter: null            # Optional regex filter for instance IDs
  
  # OpenHands agent configuration
  agent_class: "CodeActAgent"     # OpenHands agent class
  max_iterations: 50              # Maximum iterations per task
  
  # LLM configuration (choose one):
  # Option 1: Use OpenHands config name (from config.toml)
  llm_config_name: null           # e.g., "llm.eval_gpt4_1106_preview"
  
  # Option 2: Use model string directly
  llm_model: "anthropic/claude-sonnet-4"  # Model name
  llm_api_key: null               # API key (or set via environment variable)
  
  # Runtime configuration
  num_workers: 1                  # Number of parallel workers
  timeout_seconds: null           # Timeout per instance (null = no timeout)
  max_retries: 5                  # Maximum retries on failure
  runtime: "docker"               # Runtime type
  platform: "linux/amd64"         # Docker platform
  remote_runtime_resource_factor: 1  # Resource factor (1, 2, 4, or 8)
  
  # Agent capabilities
  enable_browser: false            # Enable browser tools
  enable_llm_editor: false        # Enable LLM editor
  
  # Output configuration
  eval_output_dir: null           # Override output directory (defaults to output_dir)

# Example usage:
# 
# 1. Install dependencies:
#    pip install spider[swe-scaffolds]
#
# 2. Set up OpenHands:
#    - Install OpenHands: pip install openhands-ai
#    - Or install from source and set OPENHANDS_EVAL_PATH if needed
#
# 3. Set API keys (if using model string):
#    export ANTHROPIC_API_KEY=your_key
#    # or set llm_api_key in config
#
# 4. Run trajectory generation:
#    python -m spider.server.scaffolds.openhands_wrapper \
#        --config config/swe/openhands-example.yaml


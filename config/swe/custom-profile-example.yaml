# Example configuration for using a custom profile (repo not in SWE-smith's built-in registry)
# This allows you to use any GitHub repo without modifying SWE-smith code

server:
  base_url: http://localhost:9000
  api_key: 
  request_timeout: 600

job:
  task_generation:
    enabled: true
    
    repository:
      github_url: "pallets/click"  # Known to work well with SWE-smith
      commit: "fde47b4bb1dc453fd3e8cefb588477e3023c03eb" # Known good commit
      mirror_org: "meghanar-19"  # Your GitHub username (for push permissions)
      
      # custom_profile for repos NOT in SWE-smith's registry
      # Commenting out since pallets/click is in the registry
      # custom_profile:
      #   language: "python"
      #   owner: "pallets"
      #   repo: "click"
      #   commit: "fde47b4bb1dc453fd3e8cefb588477e3023c03eb"
    
    docker_image:
      enabled: true
      build_before_tasks: true
      rebuild_after_tasks: false
      push: true  # Gracefully handles push failures
      docker_hub_org: "meghanaarakkal"  # Your Docker Hub username (authenticated)
      mirror_org: "meghanar-19"  # Your GitHub username for mirror repos
    
    bug_generation:
      methods:
      - type: "lm_rewrite"
        model: "o3-mini-2025-01-31"
        n_bugs: 10  # pallets/click has better pass rates
        # - type: "procedural"  # Procedural works well for any repo
        #   max_bugs: 100
          # model: "o3-mini-2025-01-31"
        # Or use LM methods (require API keys)
        # - type: "lm_rewrite"
        #   model: "gpt-4o"
        #   n_bugs: 20
    
    validation:
      enabled: true
      workers: 12
    
    gather:
      enabled: true
    
    issue_generation:
      enabled: false
  
  task_output:
    mode: "upload_hf"  # Options: "return" (return in response) or "upload_hf" (push to HuggingFace)
    # If mode is "upload_hf", configure hf section below:
    hf:
      repo_id: "collinear-ai/spider-swe-task-generation-test"  # e.g., "collinear-ai/swe-tasks"
      repo_type: "dataset"  # or "model"
      private: true  # Set to true for private datasets
      # config_name: "default"  # Optional: subset config name for the dataset
  
  # Required dummy fields (not used)
  model:
    provider: "vllm"
    name: "dummy"
  source:
    dataset: "dummy"
    split: "train"
  generation:
    max_turns: 1
  output:
    mode: "return"

